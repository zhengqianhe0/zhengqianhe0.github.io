import{_ as n,c as s,a as i,o as l}from"./app-Bpj5Mkzv.js";const c={};function a(o,e){return l(),s("div",null,e[0]||(e[0]=[i(`<h1 id="_3573-买卖股票的最佳时机-v" tabindex="-1"><a class="header-anchor" href="#_3573-买卖股票的最佳时机-v"><span><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-v/" target="_blank" rel="noopener noreferrer">3573. 买卖股票的最佳时机 V</a></span></a></h1><p>给你一个整数数组 <code>prices</code>，其中 <code>prices[i]</code> 是第 <code>i</code> 天股票的价格（美元），以及一个整数 <code>k</code>。</p><p>你最多可以进行 <code>k</code> 笔交易，每笔交易可以是以下任一类型：</p><ul><li><strong>普通交易</strong>：在第 <code>i</code> 天买入，然后在之后的第 <code>j</code> 天卖出，其中 <code>i &lt; j</code>。你的利润是 <code>prices[j] - prices[i]</code>。</li><li><strong>做空交易</strong>：在第 <code>i</code> 天卖出，然后在之后的第 <code>j</code> 天买回，其中 <code>i &lt; j</code>。你的利润是 <code>prices[i] - prices[j]</code>。</li></ul><p><strong>注意</strong>：你必须在开始下一笔交易之前完成当前交易。此外，你不能在已经进行买入或卖出操作的同一天再次进行买入或卖出操作。</p><p>通过进行 <strong>最多</strong> <code>k</code> 笔交易，返回你可以获得的最大总利润。</p><p><strong>示例 1:</strong></p><p><strong>输入:</strong> prices = [1,7,9,8,2], k = 2</p><p><strong>输出:</strong> 14</p><p><strong>解释:</strong></p><p>我们可以通过 2 笔交易获得 14 美元的利润：</p><ul><li>一笔普通交易：第 0 天以 1 美元买入，第 2 天以 9 美元卖出。</li><li>一笔做空交易：第 3 天以 8 美元卖出，第 4 天以 2 美元买回。</li></ul><p><strong>示例 2:</strong></p><p><strong>输入:</strong> prices = [12,16,19,19,8,1,19,13,9], k = 3</p><p><strong>输出:</strong> 36</p><p><strong>解释:</strong></p><p>我们可以通过 3 笔交易获得 36 美元的利润：</p><ul><li>一笔普通交易：第 0 天以 12 美元买入，第 2 天以 19 美元卖出。</li><li>一笔做空交易：第 3 天以 19 美元卖出，第 4 天以 8 美元买回。</li><li>一笔普通交易：第 5 天以 1 美元买入，第 6 天以 19 美元卖出。</li></ul><p><strong>提示:</strong></p><ul><li><code>2 &lt;= prices.length &lt;= 103</code></li><li><code>1 &lt;= prices[i] &lt;= 109</code></li><li><code>1 &lt;= k &lt;= prices.length / 2</code></li></ul><h1 id="解题思路" tabindex="-1"><a class="header-anchor" href="#解题思路"><span>解题思路</span></a></h1><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">class Solution {</span>
<span class="line">public:</span>
<span class="line">    long long maximumProfit(vector&lt;int&gt;&amp; prices, int k) {</span>
<span class="line">        vector&lt;array&lt;long long, 3&gt;&gt; f(k + 2, {LLONG_MIN / 2, LLONG_MIN / 2, LLONG_MIN / 2});</span>
<span class="line">        for (int j = 1; j &lt;= k + 1; j++) {</span>
<span class="line">            f[j][0] = 0;</span>
<span class="line">        }</span>
<span class="line">        for (int p : prices) {</span>
<span class="line">            for (int j = k + 1; j &gt; 0; j--) {</span>
<span class="line">                // f[j][0] = max({f[j][0], f[j][1] + p, f[j][2] - p}); 这种写法比下面的慢</span>
<span class="line">                f[j][0] = max(f[j][0], max(f[j][1] + p, f[j][2] - p));</span>
<span class="line">                f[j][1] = max(f[j][1], f[j - 1][0] - p);</span>
<span class="line">                f[j][2] = max(f[j][2], f[j - 1][0] + p);</span>
<span class="line">            }</span>
<span class="line">        }</span>
<span class="line">        return f[k + 1][0];</span>
<span class="line">    }</span>
<span class="line">};</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>复杂度分析</p><ul><li>时间复杂度：O(nk)</li><li>空间复杂度：O(k)</li></ul>`,24)]))}const r=n(c,[["render",a]]),t=JSON.parse('{"path":"/leetcode/20251217.html","title":"3573. 买卖股票的最佳时机 V","lang":"zh-CN","frontmatter":{"date":"2025-12-17T00:00:00.000Z","category":["LeetCode每日一题"],"tag":["数组","动态规划"]},"headers":[],"git":{"updatedTime":1766800992000,"contributors":[{"name":"zhengqianhe0","username":"zhengqianhe0","email":"1821984431@qq.com","commits":1,"url":"https://github.com/zhengqianhe0"}],"changelog":[{"hash":"f7994bdc2b7d79487139c25b9441948e02916a3e","time":1766800992000,"email":"1821984431@qq.com","author":"zhengqianhe0","message":"mryt"}]},"filePathRelative":"leetcode/20251217.md","excerpt":"\\n<p>给你一个整数数组 <code>prices</code>，其中 <code>prices[i]</code> 是第 <code>i</code> 天股票的价格（美元），以及一个整数 <code>k</code>。</p>\\n<p>你最多可以进行 <code>k</code> 笔交易，每笔交易可以是以下任一类型：</p>\\n<ul>\\n<li><strong>普通交易</strong>：在第 <code>i</code> 天买入，然后在之后的第 <code>j</code> 天卖出，其中 <code>i &lt; j</code>。你的利润是 <code>prices[j] - prices[i]</code>。</li>\\n<li><strong>做空交易</strong>：在第 <code>i</code> 天卖出，然后在之后的第 <code>j</code> 天买回，其中 <code>i &lt; j</code>。你的利润是 <code>prices[i] - prices[j]</code>。</li>\\n</ul>"}');export{r as comp,t as data};
