---
date: 2025-08-19
category:
  - LeetCode每日一题
tag:
  - 数组
  - 数学
---

# [2348. 全 0 子数组的数目](https://leetcode.cn/problems/number-of-zero-filled-subarrays/)

给你一个整数数组 `nums` ，返回全部为 `0` 的 **子数组** 数目。

**子数组** 是一个数组中一段连续非空元素组成的序列。

 

**示例 1：**

```
输入：nums = [1,3,0,0,2,0,0,4]
输出：6
解释：
子数组 [0] 出现了 4 次。
子数组 [0,0] 出现了 2 次。
不存在长度大于 2 的全 0 子数组，所以我们返回 6 。
```

**示例 2：**

```
输入：nums = [0,0,0,2,0,0]
输出：9
解释：
子数组 [0] 出现了 5 次。
子数组 [0,0] 出现了 3 次。
子数组 [0,0,0] 出现了 1 次。
不存在长度大于 3 的全 0 子数组，所以我们返回 9 。
```

**示例 3：**

```
输入：nums = [2,10,2019]
输出：0
解释：没有全 0 子数组，所以我们返回 0 。
```

 

**提示：**

- `1 <= nums.length <= 105`
- `-109 <= nums[i] <= 109`

# 解题思路

遍历到 nums[i]=0，现在来计算右端点为 i 的全 0 子数组的个数。

我们可以在右端点为 i−1 的全 0 子数组的末尾添加一个 0。比如右端点为 i−1 的全 0 子数组有 5 个，那么在这 5 个子数组的末尾添加 nums[i]=0，再算上 nums[i] 单独组成一个长为 1 的子数组，我们得到了 5+1=6 个右端点为 i 的全 0 子数组，加入答案。

具体来说：

用一个计数器 cnt0统计遍历到的连续 0 的个数。
如果 nums[i]=0，把计数器重置为 0。否则，把 cnt0加一，表示右端点为 i 的全 0 子数组比右端点为 i−1 的全 0 子数组多一个。然后把 cnt0加到答案中。

```
class Solution {
public:
    long long zeroFilledSubarray(vector<int>& nums) {
        long long ans=0;
        int cnt0=0;
        for(int x:nums){
            if(x){
                cnt0=0;
            }else{
                cnt0++;
                ans+=cnt0;
            }
        }
        return ans;
    }
};
```

复杂度分析

- 时间复杂度：O(n)
- 空间复杂度：O(1)

  
