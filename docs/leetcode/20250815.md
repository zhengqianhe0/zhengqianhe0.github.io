---
date: 2025-08-15
category:
  - LeetCode每日一题
tag:
  - 数学
  - 位运算
---

# [342. 4的幂](https://leetcode.cn/problems/power-of-four/)

给定一个整数，写一个函数来判断它是否是 4 的幂次方。如果是，返回 `true` ；否则，返回 `false` 。

整数 `n` 是 4 的幂次方需满足：存在整数 `x` 使得 `n == 4x`

 

**示例 1：**

```
输入：n = 16
输出：true
```

**示例 2：**

```
输入：n = 5
输出：false
```

**示例 3：**

```
输入：n = 1
输出：true
```

 

**提示：**

- `-231 <= n <= 231 - 1`

 

**进阶：**你能不使用循环或者递归来完成本题吗？

# 解题思路

- 4的幂必须是2的幂，所以可以沿用(n & (n - 1)) == 0 判断2的幂。同时，要求在二进制表示中从低到高只有偶数位可以是1。因此，设计一个掩码。在32位int下，（1010……1010）2 对应（AAAAAAAA）16，代码表示即0xaaaaaaaa。按位进行与运算，得到的就是奇数位是否存在1的情况。
- 同时可以根据余数判断。同余（4的幂 3+1的幂 1的幂）mod3 ，而2的幂等于4的幂*2，mod3余2。依照这一数学性质判断。

```
class Solution {
public:
    bool isPowerOfFour(int n) {
        // return n > 0 && (n & (n - 1)) == 0 && (n & 0xaaaaaaaa) == 0;
        return n > 0 && (n & (n - 1)) == 0 && n % 3 == 1;
    }
};
```

复杂度分析

- 时间复杂度：O(1)
- 空间复杂度：O(1)

  
