---
date: 2025-11-23
category:
  - LeetCode每日一题
tag:
  - 数组
  - 数学
  - 动态规划
---

# [1262. 可被三整除的最大和](https://leetcode.cn/problems/greatest-sum-divisible-by-three/)

给你一个整数数组 `nums`，请你找出并返回能被三整除的元素 **最大和**。



 

**示例 1：**

```
输入：nums = [3,6,5,1,8]
输出：18
解释：选出数字 3, 6, 1 和 8，它们的和是 18（可被 3 整除的最大和）。
```

**示例 2：**

```
输入：nums = [4]
输出：0
解释：4 不能被 3 整除，所以无法选出数字，返回 0。
```

**示例 3：**

```
输入：nums = [1,2,3,4,4]
输出：12
解释：选出数字 1, 3, 4 以及 4，它们的和是 12（可被 3 整除的最大和）。
```

 

**提示：**

- `1 <= nums.length <= 4 * 104`
- `1 <= nums[i] <= 104`

# 解题思路

贪心，从整体的和中减去若干个元素。

把余1和余2的所有元素提取出来排序。

如果整体的和余1，则再删掉最小的1个余1的和删掉最小的2个余2的进行比较，选择和最大的那一个。

如果整体的和余2，与余1的情况对称，借助swap即可。

```
class Solution {
public:
    int maxSumDivThree(vector<int> &nums) {
        int s = accumulate(nums.begin(), nums.end(), 0);
        if (s % 3 == 0)
            return s;

        vector<int> a[3];
        for (int x: nums)
            a[x % 3].push_back(x);
        sort(a[1].begin(), a[1].end());
        sort(a[2].begin(), a[2].end());

        if (s % 3 == 2)
            swap(a[1], a[2]);
        int ans = a[1].size() ? s - a[1][0] : 0;
        if (a[2].size() > 1)
            ans = max(ans, s - a[2][0] - a[2][1]);
        return ans;
    }
};
```

复杂度分析


- 时间复杂度：O(nlogn)
- 空间复杂度：O(n)

