---
date: 2025-10-01
category:
  - LeetCode每日一题
tag:
  - 数学
  - 模拟
---

# [1518. 换水问题](https://leetcode.cn/problems/water-bottles/)

超市正在促销，你可以用 `numExchange` 个空水瓶从超市兑换一瓶水。最开始，你一共购入了 `numBottles` 瓶水。

如果喝掉了水瓶中的水，那么水瓶就会变成空的。

给你两个整数 `numBottles` 和 `numExchange` ，返回你 **最多** 可以喝到多少瓶水。

 

**示例 1：**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/19/sample_1_1875.png)**

```
输入：numBottles = 9, numExchange = 3
输出：13
解释：你可以用 3 个空瓶兑换 1 瓶水。
所以最多能喝到 9 + 3 + 1 = 13 瓶水。
```

**示例 2：**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/19/sample_2_1875.png)

```
输入：numBottles = 15, numExchange = 4
输出：19
解释：你可以用 4 个空瓶兑换 1 瓶水。
所以最多能喝到 15 + 3 + 1 = 19 瓶水。
```

 

 

**提示：**

- `1 <= numBottles <= 100`
- `2 <= numExchange <= 100`

# 解题思路

直接模拟，用while循环检查第一次空瓶子不够交换的状态

```
class Solution {
public:
    int numWaterBottles(int numBottles, int numExchange) {
        int ans=numBottles,empty=numBottles;
        while(empty>=numExchange){
            empty-=numExchange;
            ans++;
            empty++;
        }
        return ans;
    }
};

// 附：公式法
// 要求 找到最小的k，使得b-k(e-1)<e
// k>(b-e)/(e-1)
// kmin=(b-e)/(e-1)+1=(b-1)/(e-1)

class Solution {
public:
    int numWaterBottles(int numBottles, int numExchange) {
        return numBottles + (numBottles - 1) / (numExchange - 1);
    }
};
```

复杂度分析


- 时间复杂度：O(b/e)，公式法直接计算b/e的值，O(1)
- 空间复杂度：O(1)
