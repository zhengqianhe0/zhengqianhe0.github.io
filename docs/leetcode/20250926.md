---
date: 2025-09-26
category:
  - LeetCodeæ¯æ—¥ä¸€é¢˜
tag:
  - æ•°ç»„
  - æ’åº
  - åŒæŒ‡é’ˆ
---

# [611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°](https://leetcode.cn/problems/valid-triangle-number/)

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œè¿”å›å…¶ä¸­å¯ä»¥ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„ä¸‰å…ƒç»„ä¸ªæ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [2,2,3,4]
è¾“å‡º: 3
è§£é‡Š:æœ‰æ•ˆçš„ç»„åˆæ˜¯: 
2,3,4 (ä½¿ç”¨ç¬¬ä¸€ä¸ª 2)
2,3,4 (ä½¿ç”¨ç¬¬äºŒä¸ª 2)
2,2,3
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [4,2,3,4]
è¾“å‡º: 4
```

 

**æç¤º:**

- `1 <= nums.length <= 1000`
- `0 <= nums[i] <= 1000`

# è§£é¢˜æ€è·¯

1. **æ’åº**ğŸ§ 
   å…ˆå¯¹æ•°ç»„æ’åºï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¯¹äºä»»æ„ i < j < kï¼Œéƒ½æœ‰ `nums[i] â‰¤ nums[j] â‰¤ nums[k]`ã€‚
   è¿™æ ·æˆ‘ä»¬åªéœ€æ£€æŸ¥ `nums[i] + nums[j] > nums[k]` æ˜¯å¦æˆç«‹ã€‚
2. **å›ºå®šä¸¤ä¸ªè¾ƒå°çš„è¾¹ï¼Œæ‰¾æœ€å¤§çš„åˆæ³•ç¬¬ä¸‰è¾¹**
   - å¤–å±‚å¾ªç¯å›ºå®šæœ€å°è¾¹ `i`
   - å†…å±‚å¾ªç¯å›ºå®šä¸­é—´è¾¹ `j`ï¼ˆj > iï¼‰
   - ç„¶åæ‰¾æœ€å¤§çš„ `k`ï¼ˆk > jï¼‰ï¼Œä½¿å¾— `nums[i] + nums[j] > nums[k]`
3. **ä½¿ç”¨åŒæŒ‡é’ˆä¼˜åŒ–**
   å…³é”®ä¼˜åŒ–ç‚¹ï¼š**k ä¸éœ€è¦æ¯æ¬¡éƒ½ä» j+1 é‡æ–°å¼€å§‹æ‰¾**ã€‚
   å› ä¸ºå½“ j å¢å¤§æ—¶ï¼Œ`nums[i] + nums[j]` ä¹Ÿå¢å¤§ï¼ˆæ•°ç»„å·²æ’åºï¼‰ï¼Œæ‰€ä»¥æ»¡è¶³æ¡ä»¶çš„ k åªä¼š**å‘å³ç§»åŠ¨**ï¼ˆå•è°ƒä¸å‡ï¼‰ã€‚
   æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®© `k` åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åªå‘å‰èµ°ï¼Œå®ç° **O(nÂ²)** æ—¶é—´å¤æ‚åº¦ã€‚

```
class Solution {
public:
    int triangleNumber(vector<int>& nums) {
        int n = nums.size();
        sort(nums.begin(), nums.end());
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int k = i;
            for (int j = i + 1; j < n; ++j) {
                while (k + 1 < n && nums[k + 1] < nums[i] + nums[j]) {
                    ++k;
                }
                ans += max(k - j, 0);
            }
        }
        return ans;
    }
};
```

å¤æ‚åº¦åˆ†æ


- æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) ï¼Œå…ˆç”¨nlognæ’åºï¼Œå†ç”¨nÂ²åŒæŒ‡é’ˆéå†
- ç©ºé—´å¤æ‚åº¦ï¼šO(logn)ï¼Œæ’åºç”¨åˆ°çš„ç©ºé—´
